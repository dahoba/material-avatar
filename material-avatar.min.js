!function(t,e){function i(t,e){this.options=e,this.elements=t;var i=this;this.elements[0]?(this.elements=[].slice.call(this.elements),this.elements.forEach(function(t){t.avatar=new n(t,i.options)})):this.elements.avatar=new n(t,i.options)}function n(t,i){var n=this;this.element=t,this.options=i,this.canvas=e.createElement("canvas"),requestAnimationFrame(function(){n.width=parseInt(n.element.offsetWidth,10),n.height=parseInt(n.element.offsetHeight,10),n.canvas.setAttribute("width",n.width),n.canvas.setAttribute("height",n.width),n.fillCanvas()})}i.prototype.updateOptions=function(t){var e=this;t&&(this.options=t),this.elements.forEach(function(t){t.avatar.options=e.options})},n.prototype.fillCanvas=function(){this.initials=this.getInitials(),this.fontSize=this.getFontSize(),this.backgroundColor=this.generateColor(this.initials.charCodeAt(0)-65),this.context=this.canvas.getContext("2d"),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,this.width,this.height),this.context.font=this.fontSize+"px/0px Arial",this.context.textAlign="center",this.context.fillStyle=this.getTextColor(),this.context.fillText(this.initials,this.width/2,this.height/2+.68*this.fontSize/2),this.element.innerHTML="",this.element.appendChild(this.canvas)},n.prototype.getInitials=function(){this.name=this.element.getAttribute("data-name")||this.element.innerHTML.trim();var t,e=this.name.split(" ");return this.element.setAttribute("data-name",this.name),t=e.length>1?e[0].charAt(0).toUpperCase()+e[1].charAt(0).toUpperCase():e[0].charAt(0).toUpperCase()},n.prototype.getFontSize=function(){var t=this.height/(.5*this.initials.length+1);return this.canvas.classList.contains("circle")&&(t/=1.5707963),t},n.prototype.getTextColor=function(){var t=this._hexToRgb(this.backgroundColor),e=299*t.r+587*t.g+114*t.b;return Math.round(e/1e3)>125?"#222":"#fff"},n.prototype._hexToRgb=function(t){var e;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n}),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},n.prototype.generateColor=function(t){var e=["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"];if(randomColor){if(this.options&&this.options.randomColor)return randomColor(this.options.randomColor);if(!this.options)return randomColor()}return e[t%e.length]},t.MaterialAvatar=i,t.Avatar=n}(window,document);